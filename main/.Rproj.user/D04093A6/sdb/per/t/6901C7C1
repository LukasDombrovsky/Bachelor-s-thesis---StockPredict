{
    "collab_server" : "",
    "contents" : "# Script finds and visualise best time period for classification\n# of historical data for a 3 different stocks\n\n# install used packages if required\ninstall.packages(ggplot2)\ninstall.packages(plotly)\ninstall.packages(dplyr)\n\n# read packages\nlibrary(ggplot2)\nlibrary(plotly)\nlibrary(dplyr)\n\n# AAPL\n\ntendency = c(1,3,7,14,30)\nnumberOfYears = c(1,2,3,4,5,10)\nmeanAccuracy = data.frame()\ncounter = 0\n\nfor(tendencyIndex in 1:length(tendency)){\n  for(numberOfYearsIndex in 1:length(numberOfYears)){\n    counter = counter + 1\n    DF = read.csv(paste0(\"data/ClassificationSuccessRatesAPPL/\",\"ten\",\n                         tendency[tendencyIndex],\"PredictionOn\",\n                         numberOfYears[numberOfYearsIndex],\"Ydata.csv\"))\n    \n    DF = DF[order(DF$Accuracy,decreasing = T),]\n    \n    meanAccuracy[counter,\"BestAccuracy\"] = DF[1,\"Accuracy\"]\n    \n    if(numberOfYears[numberOfYearsIndex]<10)\n      meanAccuracy[counter,\"NumberOfYears\"] = paste0(\"0\",as.character(numberOfYears[numberOfYearsIndex]),\" years\")\n    else\n      meanAccuracy[counter,\"NumberOfYears\"] = paste0(as.character(numberOfYears[numberOfYearsIndex]),\" years\")\n    \n    if(tendency[tendencyIndex]<10)\n      meanAccuracy[counter,\"Tendency\"] = paste0(\"+0\",tendency[tendencyIndex],\"days\")\n    else\n      meanAccuracy[counter,\"Tendency\"] = paste0(\"+\",tendency[tendencyIndex],\"days\")\n  }\n}\n\nwrite.csv(meanAccuracy, file = \"data/classificationTestedData/meanAccuracyAAPL.csv\",row.names=FALSE)\n\nmeanAccuracy %>% group_by(Tendency) %>%\nplot_ly(x=~Tendency,y=~BestAccuracy, color=~NumberOfYears ) %>%\n        layout(title = \"Best time period for classification Apple\")\n\n# BAC\n\ntendency = c(1,3,7,14,30)\nnumberOfYears = c(1,2,3,4,5,10)\nmeanAccuracy = data.frame()\ncounter = 0\n\nfor(tendencyIndex in 1:length(tendency)){\n  for(numberOfYearsIndex in 1:length(numberOfYears)){\n    counter = counter + 1\n    DF = read.csv(paste0(\"data/ClassificationSuccessRatesBAC/\",\"ten\",\n                         tendency[tendencyIndex],\"BAC\",\n                         numberOfYears[numberOfYearsIndex],\"Y.csv\"))\n    \n    DF = DF[order(DF$Accuracy,decreasing = T),]\n    \n    meanAccuracy[counter,\"BestAccuracy\"] = DF[1,\"Accuracy\"]\n    \n    if(numberOfYears[numberOfYearsIndex]<10)\n      meanAccuracy[counter,\"NumberOfYears\"] = paste0(\"0\",as.character(numberOfYears[numberOfYearsIndex]),\" years\")\n    else\n      meanAccuracy[counter,\"NumberOfYears\"] = paste0(as.character(numberOfYears[numberOfYearsIndex]),\" years\")\n    \n    if(tendency[tendencyIndex]<10)\n      meanAccuracy[counter,\"Tendency\"] = paste0(\"+0\",tendency[tendencyIndex],\"days\")\n    else\n      meanAccuracy[counter,\"Tendency\"] = paste0(\"+\",tendency[tendencyIndex],\"days\")\n  }\n}\n\nwrite.csv(meanAccuracy, file = \"data/classificationTestedData/meanAccuracyBAC.csv\",row.names=FALSE)\n\nmeanAccuracy %>% group_by(Tendency) %>%\n  plot_ly(x=~Tendency,y=~BestAccuracy, color=~NumberOfYears, type = 'bar' ) %>%\n  layout(title = \"Best time period for classification Bank of America\")\n\n# INTC\n\ntendency = c(1,3,7,14,30)\nnumberOfYears = c(1,2,3,4,5,10)\nmeanAccuracy = data.frame()\ncounter = 0\n\nfor(tendencyIndex in 1:length(tendency)){\n  for(numberOfYearsIndex in 1:length(numberOfYears)){\n    counter = counter + 1\n    DF = read.csv(paste0(\"data/ClassificationSuccessRatesINTC/\",\"ten\",\n                         tendency[tendencyIndex],\"INTC\",\n                         numberOfYears[numberOfYearsIndex],\"Y.csv\"))\n    \n    DF = DF[order(DF$Accuracy,decreasing = T),]\n    \n    meanAccuracy[counter,\"BestAccuracy\"] = DF[1,\"Accuracy\"]\n    \n    if(numberOfYears[numberOfYearsIndex]<10)\n      meanAccuracy[counter,\"NumberOfYears\"] = paste0(\"0\",as.character(numberOfYears[numberOfYearsIndex]),\" years\")\n    else\n      meanAccuracy[counter,\"NumberOfYears\"] = paste0(as.character(numberOfYears[numberOfYearsIndex]),\" years\")\n    \n    if(tendency[tendencyIndex]<10)\n      meanAccuracy[counter,\"Tendency\"] = paste0(\"+0\",tendency[tendencyIndex],\"days\")\n    else\n      meanAccuracy[counter,\"Tendency\"] = paste0(\"+\",tendency[tendencyIndex],\"days\")\n  }\n}\n\nwrite.csv(meanAccuracy, file = \"data/classificationTestedData/meanAccuracyINTC.csv\",row.names=FALSE)\n\nmeanAccuracy %>% group_by(Tendency) %>%\n  plot_ly(x=~Tendency,y=~BestAccuracy, color=~NumberOfYears, type = 'bar' ) %>%\n  layout(title = \"Best time period for classification Intel\")\n\n\n",
    "created" : 1495453768942.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "2682662462",
    "id" : "6901C7C1",
    "lastKnownWriteTime" : 1495453780,
    "last_content_update" : 1495453780254,
    "path" : "C:/Users/Patres/Desktop/LukasDombrovskyMonitorovaciaPlatformaVCloude/Zdrojove kody/StockPredict/TestingAndOptimalization/testing/bestTimePeriodForClassification.R",
    "project_path" : null,
    "properties" : {
    },
    "relative_order" : 7,
    "source_on_save" : false,
    "source_window" : "",
    "type" : "r_source"
}